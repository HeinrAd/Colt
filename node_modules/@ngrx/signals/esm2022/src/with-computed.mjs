import { excludeKeys } from './helpers';
export function withComputed(signalsFactory) {
    return (store) => {
        const signals = signalsFactory({ ...store.slices, ...store.signals });
        const signalsKeys = Object.keys(signals);
        const slices = excludeKeys(store.slices, signalsKeys);
        const methods = excludeKeys(store.methods, signalsKeys);
        return {
            ...store,
            slices,
            signals: { ...store.signals, ...signals },
            methods,
        };
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2l0aC1jb21wdXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL21vZHVsZXMvc2lnbmFscy9zcmMvd2l0aC1jb21wdXRlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBV3hDLE1BQU0sVUFBVSxZQUFZLENBSTFCLGNBRVk7SUFFWixPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDZixNQUFNLE9BQU8sR0FBRyxjQUFjLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUN0RSxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sT0FBTyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRXhELE9BQU87WUFDTCxHQUFHLEtBQUs7WUFDUixNQUFNO1lBQ04sT0FBTyxFQUFFLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLEdBQUcsT0FBTyxFQUFFO1lBQ3pDLE9BQU87U0FDOEMsQ0FBQztJQUMxRCxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhjbHVkZUtleXMgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgRW1wdHlGZWF0dXJlUmVzdWx0LFxuICBJbm5lclNpZ25hbFN0b3JlLFxuICBTaWduYWxzRGljdGlvbmFyeSxcbiAgU2lnbmFsU3RvcmVGZWF0dXJlLFxuICBTaWduYWxTdG9yZUZlYXR1cmVSZXN1bHQsXG4gIFNpZ25hbFN0b3JlU2xpY2VzLFxufSBmcm9tICcuL3NpZ25hbC1zdG9yZS1tb2RlbHMnO1xuaW1wb3J0IHsgUHJldHRpZnkgfSBmcm9tICcuL3RzLWhlbHBlcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aENvbXB1dGVkPFxuICBJbnB1dCBleHRlbmRzIFNpZ25hbFN0b3JlRmVhdHVyZVJlc3VsdCxcbiAgU2lnbmFscyBleHRlbmRzIFNpZ25hbHNEaWN0aW9uYXJ5XG4+KFxuICBzaWduYWxzRmFjdG9yeTogKFxuICAgIHN0b3JlOiBQcmV0dGlmeTxTaWduYWxTdG9yZVNsaWNlczxJbnB1dFsnc3RhdGUnXT4gJiBJbnB1dFsnc2lnbmFscyddPlxuICApID0+IFNpZ25hbHNcbik6IFNpZ25hbFN0b3JlRmVhdHVyZTxJbnB1dCwgRW1wdHlGZWF0dXJlUmVzdWx0ICYgeyBzaWduYWxzOiBTaWduYWxzIH0+IHtcbiAgcmV0dXJuIChzdG9yZSkgPT4ge1xuICAgIGNvbnN0IHNpZ25hbHMgPSBzaWduYWxzRmFjdG9yeSh7IC4uLnN0b3JlLnNsaWNlcywgLi4uc3RvcmUuc2lnbmFscyB9KTtcbiAgICBjb25zdCBzaWduYWxzS2V5cyA9IE9iamVjdC5rZXlzKHNpZ25hbHMpO1xuICAgIGNvbnN0IHNsaWNlcyA9IGV4Y2x1ZGVLZXlzKHN0b3JlLnNsaWNlcywgc2lnbmFsc0tleXMpO1xuICAgIGNvbnN0IG1ldGhvZHMgPSBleGNsdWRlS2V5cyhzdG9yZS5tZXRob2RzLCBzaWduYWxzS2V5cyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RvcmUsXG4gICAgICBzbGljZXMsXG4gICAgICBzaWduYWxzOiB7IC4uLnN0b3JlLnNpZ25hbHMsIC4uLnNpZ25hbHMgfSxcbiAgICAgIG1ldGhvZHMsXG4gICAgfSBhcyBJbm5lclNpZ25hbFN0b3JlPFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBTaWduYWxzPjtcbiAgfTtcbn1cbiJdfQ==