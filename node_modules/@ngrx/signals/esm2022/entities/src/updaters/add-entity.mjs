import { addEntityMutably, cloneEntityState, getEntityIdKey, getEntityStateKeys, getEntityUpdaterResult, } from '../helpers';
export function addEntity(entity, config) {
    const idKey = getEntityIdKey(config);
    const stateKeys = getEntityStateKeys(config);
    return (state) => {
        const clonedState = cloneEntityState(state, stateKeys);
        const didMutate = addEntityMutably(clonedState, entity, idKey);
        return getEntityUpdaterResult(clonedState, stateKeys, didMutate);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkLWVudGl0eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL21vZHVsZXMvc2lnbmFscy9lbnRpdGllcy9zcmMvdXBkYXRlcnMvYWRkLWVudGl0eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixjQUFjLEVBQ2Qsa0JBQWtCLEVBQ2xCLHNCQUFzQixHQUN2QixNQUFNLFlBQVksQ0FBQztBQW9CcEIsTUFBTSxVQUFVLFNBQVMsQ0FDdkIsTUFBVyxFQUNYLE1BQWdEO0lBRWhELE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxNQUFNLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUU3QyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDZixNQUFNLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdkQsTUFBTSxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUUvRCxPQUFPLHNCQUFzQixDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnRpYWxTdGF0ZVVwZGF0ZXIgfSBmcm9tICdAbmdyeC9zaWduYWxzJztcbmltcG9ydCB7XG4gIEVudGl0eUlkLFxuICBFbnRpdHlJZEtleSxcbiAgRW50aXR5U3RhdGUsXG4gIE5hbWVkRW50aXR5U3RhdGUsXG59IGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQge1xuICBhZGRFbnRpdHlNdXRhYmx5LFxuICBjbG9uZUVudGl0eVN0YXRlLFxuICBnZXRFbnRpdHlJZEtleSxcbiAgZ2V0RW50aXR5U3RhdGVLZXlzLFxuICBnZXRFbnRpdHlVcGRhdGVyUmVzdWx0LFxufSBmcm9tICcuLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eTxFbnRpdHkgZXh0ZW5kcyB7IGlkOiBFbnRpdHlJZCB9PihcbiAgZW50aXR5OiBFbnRpdHlcbik6IFBhcnRpYWxTdGF0ZVVwZGF0ZXI8RW50aXR5U3RhdGU8RW50aXR5Pj47XG5leHBvcnQgZnVuY3Rpb24gYWRkRW50aXR5PEVudGl0eSwgQ29sbGVjdGlvbiBleHRlbmRzIHN0cmluZz4oXG4gIGVudGl0eTogRW50aXR5LFxuICBjb25maWc6IHsgY29sbGVjdGlvbjogQ29sbGVjdGlvbjsgaWRLZXk6IEVudGl0eUlkS2V5PEVudGl0eT4gfVxuKTogUGFydGlhbFN0YXRlVXBkYXRlcjxOYW1lZEVudGl0eVN0YXRlPEVudGl0eSwgQ29sbGVjdGlvbj4+O1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eTxcbiAgRW50aXR5IGV4dGVuZHMgeyBpZDogRW50aXR5SWQgfSxcbiAgQ29sbGVjdGlvbiBleHRlbmRzIHN0cmluZ1xuPihcbiAgZW50aXR5OiBFbnRpdHksXG4gIGNvbmZpZzogeyBjb2xsZWN0aW9uOiBDb2xsZWN0aW9uIH1cbik6IFBhcnRpYWxTdGF0ZVVwZGF0ZXI8TmFtZWRFbnRpdHlTdGF0ZTxFbnRpdHksIENvbGxlY3Rpb24+PjtcbmV4cG9ydCBmdW5jdGlvbiBhZGRFbnRpdHk8RW50aXR5PihcbiAgZW50aXR5OiBFbnRpdHksXG4gIGNvbmZpZzogeyBpZEtleTogRW50aXR5SWRLZXk8RW50aXR5PiB9XG4pOiBQYXJ0aWFsU3RhdGVVcGRhdGVyPEVudGl0eVN0YXRlPEVudGl0eT4+O1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eShcbiAgZW50aXR5OiBhbnksXG4gIGNvbmZpZz86IHsgY29sbGVjdGlvbj86IHN0cmluZzsgaWRLZXk/OiBzdHJpbmcgfVxuKTogUGFydGlhbFN0YXRlVXBkYXRlcjxFbnRpdHlTdGF0ZTxhbnk+IHwgTmFtZWRFbnRpdHlTdGF0ZTxhbnksIHN0cmluZz4+IHtcbiAgY29uc3QgaWRLZXkgPSBnZXRFbnRpdHlJZEtleShjb25maWcpO1xuICBjb25zdCBzdGF0ZUtleXMgPSBnZXRFbnRpdHlTdGF0ZUtleXMoY29uZmlnKTtcblxuICByZXR1cm4gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgY2xvbmVkU3RhdGUgPSBjbG9uZUVudGl0eVN0YXRlKHN0YXRlLCBzdGF0ZUtleXMpO1xuICAgIGNvbnN0IGRpZE11dGF0ZSA9IGFkZEVudGl0eU11dGFibHkoY2xvbmVkU3RhdGUsIGVudGl0eSwgaWRLZXkpO1xuXG4gICAgcmV0dXJuIGdldEVudGl0eVVwZGF0ZXJSZXN1bHQoY2xvbmVkU3RhdGUsIHN0YXRlS2V5cywgZGlkTXV0YXRlKTtcbiAgfTtcbn1cbiJdfQ==